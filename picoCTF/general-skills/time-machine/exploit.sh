#!/bin/bash

if ! [[ "$1" =~ ^([a-zA-Z0-9-]+\.)*picoctf\.net$ ]]; then
    echo "Error: Please provide a valid URL as an argument."
    echo "Usage: $0 <URL>"
    exit 1
fi

wget -q "$1" -O challenge.zip
unzip -q challenge.zip
cd drop-in 
git log | grep -RoE 'picoCTF{.*?}' | cut -d ':' -f 2 | head -n 1